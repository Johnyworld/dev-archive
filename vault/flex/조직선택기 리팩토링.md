# 조직선택기 리팩토링


```jsx
<Provider 어떤권한={ 근무읽기 | 쓰기 | 없음 | 휴가읽기 | 쓰기 | 없음 }>
	...
</Provider>
```

```jsx
const { 어떤권한 } = props

const 근무권한조직들 = useGetWorkRecordPermissionGrantedDepartments();
const 휴가권한조직들 = useGetTimeOffPermissionGrantedDepartments();

const 권한조직들 = intersection(근무권한조직들, 휴가권한조직들);
const 내가속한조직과그하위조직

const 선택된조직초기값 = intersection(권한조직들, 내가속한조직과그하위조직);

const [선택된조직, 세터] = useState(선택된조직초기값);

const 조직선택기 = <DepartmentSelectWithFieldBox 선택된조직, 세터, 필터, ... />

return {
	선택된 조직,
	조직선택기
}
```